{% extends "layouts/delta.html" %}
{% set pageName="User feedback form [concept]" %}
{% block content %}
<div class="panel-nav">
  <div class="controls">
    <button id="startBtn" class="govuk-button">Start</button>
    <button id="prevBtn" class="govuk-button" disabled>Previous</button>
    <button id="nextBtn" class="govuk-button" disabled>Next</button>
  </div>
</div>


<div class="panel xdelta-text-center">
  <h1 class="govuk-heading-xl govuk-!-margin-top-9">
    Delta user feedback
  </h1>
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h4 class="govuk-heading-s govuk-!-margin-top-3">
        Updated: Friday, 4 April 2025
      </h4>
    </div>
  </div>
</div>


<!-- Why -->
<div class="panel" id="why">
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h2 class="govuk-heading-l">Why</h2>
    </div>
  </div>

  <ul class="govuk-list govuk-list--number govuk-body-l">
    <li>Better, faster and cheaper than annual survey</li>
    <li>Support continuous learning and the solving real problems</li>   
    <li>Evidence impact (quantitative) - including direction of travel</li>
    <li>Build co-design capability</li>   
  </ul>
</div>

<!-- What -->
<div class="panel" id="why">
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h2 class="govuk-heading-l">Is</h2>
      <ul class="govuk-list govuk-list--number govuk-body-l">
        <li><strong>Users</strong> being asked for feedback - internal and external users</li>
        <li><strong>Results</strong> - sliceable by 'channel'</li>
        <li><strong>Banner</strong> - displayed throughout Delta</li>   
        <li><strong>CTA</strong> - at end of key workflows (initially submissions)</li>
        <li><strong>Survey</strong> - 3 questions</li>
        <li><strong>Report</strong> - real-time results accessible to all internal users</li>
      </ul>      
      
      <h2 class="govuk-heading-l">Isn't</h2>
      <ul class="govuk-list govuk-list--number govuk-body-l">
        <li>Replacement for detailed Funding Service research [questions].</li>
      </ul>          

    </div>
  </div>


</div>

<!-- What -->
<div class="panel" id="draft">
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h2 class="govuk-heading-l">Draft designs...</h2>
    </div>
  </div>
</div>




<!-- The banner -->
<div class="panel" id="banner">
  <div class="govuk-phase-banner">
    <p class="govuk-phase-banner__content">
      <span class="govuk-phase-banner__text">
        Help us make this service better. Give us  your <a class="govuk-link" href="#">feedback</a>.
      </span>
    </p>
  </div>
  <!-- <div class="govuk-notification-banner" role="region" aria-labelledby="govuk-notification-banner-title" data-module="govuk-notification-banner">
    <div class="govuk-notification-banner__header">
      <h2 class="govuk-notification-banner__title" id="govuk-notification-banner-title">
        Feedback
      </h2>
    </div>
    <div class="govuk-notification-banner__content">
      <p class="govuk-notification-banner__heading">
        Please help us improve this service by <a class="govuk-link" href="#" class="govuk-notification-banner__link">giving us your feedback</a>.
      </p>
    </div>
  </div> -->
</div>

<!-- Survey -->
<div class="panel" id="survey">
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h2 class="govuk-heading-xl">Give feedback on your experience</h2>
      <div class="govuk-form-group govuk-!-margin-bottom-9">
        <fieldset class="govuk-fieldset">
          <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
            <h1 class="govuk-fieldset__heading">
              How easy was it to use Delta?
            </h1>
          </legend>
          <div class="govuk-radios" data-module="govuk-radios">
            <div class="govuk-radios__item">
              <input class="govuk-radios__input" id="howEasyToUse" name="howEasyToUse" type="radio" value="very-easy">
              <label class="govuk-label govuk-radios__label" for="howEasyToUse">
                Very easy
              </label>
            </div>
            <div class="govuk-radios__item">
              <input class="govuk-radios__input" id="howEasyToUse-2" name="howEasyToUse" type="radio" value="easy">
              <label class="govuk-label govuk-radios__label" for="howEasyToUse-2">
                Easy
              </label>
            </div>
            <div class="govuk-radios__item">
              <input class="govuk-radios__input" id="howEasyToUse-3" name="howEasyToUse" type="radio" value="neither">
              <label class="govuk-label govuk-radios__label" for="howEasyToUse-3">
                Neither easy nor difficult
              </label>
            </div>
            <div class="govuk-radios__item">
              <input class="govuk-radios__input" id="howEasyToUse-4" name="howEasyToUse" type="radio" value="difficult">
              <label class="govuk-label govuk-radios__label" for="howEasyToUse-4">
                Difficult
              </label>
            </div>
            <div class="govuk-radios__item">
              <input class="govuk-radios__input" id="howEasyToUse-4" name="howEasyToUse" type="radio" value="very-difficult">
              <label class="govuk-label govuk-radios__label" for="howEasyToUse-4">
                Very difficult
              </label>
            </div>            
          </div>
        </fieldset>
      </div>

      <div class="govuk-form-group  govuk-!-margin-bottom-9">
        <fieldset class="govuk-fieldset">
          <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
            <h1 class="govuk-fieldset__heading">
            Has Delta become easier or harder to use over the last 6 months?
            </h1>
          </legend>
          <div class="govuk-radios" data-module="govuk-radios">             
            <div class="govuk-radios__item">
              <input class="govuk-radios__input" id="changeOverTime" name="changeOverTime" type="radio" value="easier">
              <label class="govuk-label govuk-radios__label" for="changeOverTime">
                It has become easier
              </label>
            </div>
            <div class="govuk-radios__item">
              <input class="govuk-radios__input" id="changeOverTime-2" name="changeOverTime" type="radio" value="noChange">
              <label class="govuk-label govuk-radios__label" for="changeOverTime-2">
                No change
              </label>
            </div>
            <div class="govuk-radios__item">
              <input class="govuk-radios__input" id="changeOverTime-3" name="changeOverTime" type="radio" value="harder">
              <label class="govuk-label govuk-radios__label" for="changeOverTime-3">
                It has become harder
              </label>
            </div>
            <div class="govuk-radios__divider">or</div>  
            <div class="govuk-radios__item">
              <input class="govuk-radios__input" id="changeOverTime-4" name="changeOverTime" type="radio" value="notApplicable">
              <label class="govuk-label govuk-radios__label" for="changeOverTime-4">
                Not applicable / I haven't used the service before
              </label>
            </div>               
          </div>
        </fieldset>
      </div>      


      <!-- feedback -->
      <div class="govuk-form-group  govuk-!-margin-bottom-9">
        <label class="govuk-heading-m" for="feedback">
          Tell us more about your answers
        </label>
        <p class="govuk-hint">What made you choose those options? Is there anything we could do better? Please don't include personal or confidential information.</p>
        <textarea class="govuk-textarea" id="feedback" name="feedback" rows="3" aria-describedby="feedback-hint"></textarea>
        <!-- <div id="with-hint-info" class="govuk-hint govuk-character-count__message">
          You have 1,250 characters remaining
        </div> -->
      </div>
      <!-- call back -->
      <div class="govuk-form-group  govuk-!-margin-bottom-9">
        <fieldset class="govuk-fieldset" aria-describedby="feedbackCallBack-hint">
          <legend class="govuk-fieldset__legend govuk-fieldset__legend--m">
            <h1 class="govuk-heading-m govuk-!-margin-bottom-0">
              Research
            </h1>
            <!-- <p class="govuk-hint">Can we contact you to take part in future research to help us improve?</p> -->
            </legend>
          <div class="govuk-checkboxes govuk-checkboxes--small" data-module="govuk-checkboxes">
            <div class="govuk-checkboxes__item">
              <input class="govuk-checkboxes__input" id="feedbackCallBack" name="feedbackCallBack" type="checkbox" value="feedbackCallBack">
              <label class="govuk-label govuk-checkboxes__label" for="feedbackCallBack">
                I am happy to be emailed to take part in research to help improve Delta and other MHCLG services.
              </label>
              </div>
            </div>
        </fieldset>
      </div>

      <!-- <p>We'll store your information securely. You can ask us to stop contacting you at any time. For more information, read our <a href="#">privacy notice.</a></p> -->

      <button class="govuk-button">Send feedback</button>
      <button class="govuk-button govuk-button--secondary">Cancel</button>
    </div>
  </div>
</div>

<!-- Inspiration -->
<div class="panel" id="references">
  <h2 class="govuk-heading-xl">References</h2>
  <ul class="govuk-list govuk-list--number govuk-body-l">
    <li><a href="public/images/grab-banner-feedback.png">Feedback banner</a></li>        
    <li><a href="public/images/grab-dvla-feedback.png">DVLA feedback form</a></li>
    <li><a href="public/images/grab-MOT-research.png">DVLA research opt-in text</a></li>        
  </ul>
</div>


<!-- collection classification  -->
<div class="panel" id="collectiontype">
  <h2 class="govuk-heading-xl">Collection classification</h2>
  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

      <div class="govuk-inset-text">
        Admins and collection managers must classify each collection at the time of its creation. These classifications will enable MI reports to be filtered by client.
      </div>


      <div class="govuk-form-group">
        <fieldset class="govuk-fieldset" aria-describedby="collection-type-hint">
          <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
            <h1 class="govuk-fieldset__heading">
              Which client does this collection belong to?
            </h1>
          </legend>
          <div id="collection-type-hint" class="govuk-hint">
            Select all that apply
          </div>
          <div class="govuk-checkboxes" data-module="govuk-checkboxes">
            <div class="govuk-checkboxes__item">
              <input class="govuk-checkboxes__input" id="collection-type" name="collection-type" type="checkbox" value="stats">
              <label class="govuk-label govuk-checkboxes__label" for="collection-type">
                Statistics
              </label>
            </div>
            <div class="govuk-checkboxes__item">
              <input class="govuk-checkboxes__input" id="collection-type-2" name="collection-type" type="checkbox" value="fundingservice">
              <label class="govuk-label govuk-checkboxes__label" for="collection-type-2">
                Funding Service
              </label>
            </div>
            <div class="govuk-checkboxes__item">
              <input class="govuk-checkboxes__input" id="collection-type-3" name="collection-type" type="checkbox" value="farm">
              <label class="govuk-label govuk-checkboxes__label" for="waste-3">
                Grants
              </label>
            </div>          
          </div>
        </fieldset>
      </div>



    </div>
  </div>
</div>




  <script>
    document.addEventListener('DOMContentLoaded', function() {
      // Hide header and footer in prootyping kit
      var header = document.querySelector('.govuk-header');
      var footer = document.querySelector('.govuk-footer');
      if (footer) {
          footer.style.display = 'none';
      }
      if (header) {
          header.style.display = 'none';
      }
      // Panel stuff =================================================================================================================
      const panels = document.querySelectorAll('.panel');
      const prevBtn = document.getElementById('prevBtn');
      const nextBtn = document.getElementById('nextBtn');
      const startBtn = document.getElementById('startBtn');
      let currentPanel = -1; // Before start button is clicked, no panel is active
      // Function to update the button states
      function updateButtons() {
        startBtn.disabled = currentPanel <= 0;
        prevBtn.disabled = currentPanel <= 0;
        nextBtn.disabled = currentPanel === panels.length - 1;
      }
      // Function to scroll to a specific panel
      function scrollToPanel(index) {
        if (index >= 0 && index < panels.length) {
          currentPanel = index;
          panels[currentPanel].scrollIntoView({ behavior: 'smooth' });
          updateButtons();
        }
      }
      // Event listener for the Start button
      startBtn.addEventListener('click', function () {
        scrollToPanel(0);  // Scroll to the first panel
      });
      // Event listeners for the Next and Previous buttons
      prevBtn.addEventListener('click', function () {
        scrollToPanel(currentPanel - 1);
      });
      nextBtn.addEventListener('click', function () {
        scrollToPanel(currentPanel + 1);
      });
      // Initial check to ensure buttons are in the right state
      updateButtons();
    });
  </script>
{% endblock %}
